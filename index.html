<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Video</title>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
</head>


<!-- 
MAIN
https://youtu.be/9fPl7yYqBts

A
Project Atum
https://youtu.be/yOCxZRbwipE

B
Project Thoth
https://youtu.be/g2qxPuPoV5c

AA
智慧醫療<br>Smart Healthcare
https://youtu.be/tnPscr4MZb4

AB
智慧運輸<br>Smart Mobility
https://youtu.be/zQa9lrEor1g

BA
智慧育樂<br>Future Entertainment<br>Technology
https://youtu.be/FghZx1o4ePE

BB
智慧檢測<br>Smart Monitoring<br>Technology
https://youtu.be/FcqhOOE3X8A
 -->
<style>

	.box{
    position: relative;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;		
    width: 100%
	}

  body{
    font-family: Verdana, Geneva, sans-serif;
  }


  .btn-group {
    display: flex;
    justify-content: center;
    align-items: center;		    
    z-index: 99;
    position:absolute; 
    top:0;
    top:60%;
    width:100%;
  }

  .btn-group-one {
    display: flex;
    justify-content: center;
    align-items: center;		    
    z-index: 99;
    position:absolute; 
    top:0;
    top:70%;
    width:100%;
  } 

  @media (max-width: 768px) {
    button {
      border: 1px;
      border-style: solid;
    }
  }

</style>

<body class="bg-yellow-500" onload="setTimeout(function() {window.scrollTo(0, 1)}, 100)">

  <div class="box bg-yellow-500">
   
    <div  class="relative">
      <div class="video-wrapper">
        <div id="MAIN"></div> 
      </div>
      <div class="btn-group-one">
        <button OnClick="clickA()" 
        class="mr-2 hover:bg-red-400 bg-opacity-75  md:border-2 border-white rounded-xl  
        px-4 py-2 md:px-10 md:py-4 bg-gray-400 z-10 text-white md:font-bold text-sm md:text-xl transparent" id="btnA" style="display:none;">Project Atum</button>
        <button OnClick="clickB()" 
        class=" hover:bg-red-400 bg-opacity-75  md:border-2 border-white rounded-xl  
        px-4 py-2 md:px-10 md:py-4 bg-gray-400 z-10 text-white md:font-bold text-sm md:text-xl transparent" id="btnB" style="display:none;">Project Thoth</button>
      </div>
    </div>

    <div class="relative">
      <div class="video-wrapper">
        <div id="containerA" style="display:none;"></div> 
      </div>
      <div class="video-wrapper">
        <div id="containerB" style="display:none;"></div>
      </div>
      <div class="btn-group flex items-center justify-center">
        <button OnClick="clickAA()" class="mr-2 hover:bg-red-400 bg-opacity-75  md:border-2 border-white rounded-xl  px-2 py-2 md:px-8 md:py-4 bg-gray-400 z-10 text-white md:font-bold text-sm md:text-xl transparent" id="btnAA" style="display:none;">智慧醫療<br>Smart Healthcare</button>
        <button OnClick="clickAB()" class="hover:bg-red-400 bg-opacity-75  md:border-2 border-white rounded-xl  px-4 py-2 md:px-10 md:py-4 bg-gray-400 z-10 text-white md:font-bold text-sm md:text-xl transparent" id="btnAB" style="display:none;">智慧運輸<br>Smart Mobility</button>
      </div>
      <div class="btn-group flex items-center justify-center">
        <button OnClick="clickBA()" class="mr-2 hover:bg-red-400 bg-opacity-75  md:border-2 border-white rounded-xl px-1 py-2 md:px-7 md:py-4 bg-gray-400 z-10 text-white font-light md:font-bold text-sm md:text-xl transparent" id="btnBA" style="display:none;">智慧育樂<br>Future Entertainment</button>
        <button OnClick="clickBB()" class="hover:bg-red-400 bg-opacity-75  md:border-2 border-white rounded-xl px-4 py-2 md:px-10 md:py-4 bg-gray-400 z-10 text-white font-light md:font-bold text-sm md:text-xl transparent" id="btnBB" style="display:none;">智慧檢測<br>Smart Monitoring</button>
      </div>
    </div>

    <div class="relative">
      <div class="video-wrapper">
        <div id="containerAA" style="display:none;"></div> 
      </div>
      <div class="video-wrapper">
        <div id="containerAB" style="display:none;"></div>
      </div>
    </div>

    <div class="relative">
      <div class="video-wrapper">
        <div id="containerBA" style="display:none;"></div> 
      </div>
      <div class="video-wrapper">
        <div id="containerBB" style="display:none;"></div>
      </div>
    </div>
  </div>

    <script>

		const containerA = document.getElementById('containerA');
		const containerB = document.getElementById('containerB');
		const containerAA = document.getElementById('containerAA');
		const containerAB = document.getElementById('containerAB');
		const containerBA = document.getElementById('containerBA');
		const containerBB = document.getElementById('containerBB');
		
  	const btnA = document.getElementById('btnA');
		const btnB = document.getElementById('btnB');
  	const btnAA = document.getElementById('btnAA');
		const btnAB = document.getElementById('btnAB');		
		const btnBA = document.getElementById('btnBA');
		const btnBB = document.getElementById('btnBB');

    var main_video;
    var a_video;
    var b_video;
    var aa_video;
    var ab_video;
    var ba_video;
    var bb_video;

    var clickedA = false;
    var clickedB = false;
    var clickedAA = false;
    var clickedAB = false;
    var clickedBA = false;
    var clickedBB = false;

      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        function onYouTubeIframeAPIReady() {
        var controlsValue = 0; // 0 = no controls

        var main_video_data = prepareVideo( "9fPl7yYqBts", onPlayerStateChange_m );
        var a_video_data = prepareVideo( "yOCxZRbwipE", onPlayerStateChange_a );
        var b_video_data = prepareVideo( "g2qxPuPoV5c", onPlayerStateChange_b );
        var aa_video_data = prepareVideo( "tnPscr4MZb4", onPlayerStateChange_other );
        var ab_video_data = prepareVideo( "zQa9lrEor1g", onPlayerStateChange_other );
        var ba_video_data = prepareVideo( "FghZx1o4ePE", onPlayerStateChange_other );
        var bb_video_data = prepareVideo( "FcqhOOE3X8A", onPlayerStateChange_other );
        
        function prepareVideo( video_id, onStateChange ){
          var videoWidth;

          let video_data = {
              height: 720,
              width: 1280,
              videoId: video_id,
              events: {
                'onReady': onPlayerReady,
                'onStateChange': onStateChange,
              },
              playerVars: {
                'playsinline': 1,
                'controls': controlsValue,
                'rel': 0,
                'fs': 0,
                'iv_load_policy': 3
              },
            }
          return video_data;
        }

        main_video = new YT.Player('MAIN', main_video_data);
        a_video = new YT.Player('containerA', a_video_data);
        b_video = new YT.Player('containerB', b_video_data);
        aa_video = new YT.Player('containerAA', aa_video_data);
        ab_video = new YT.Player('containerAB', ab_video_data);
        ba_video = new YT.Player('containerBA', ba_video_data);
        bb_video = new YT.Player('containerBB', bb_video_data);
  
      }




      function onPlayerReady(event) {
        // event.target.pauseVideo();
        resize( event );
      }

      function startInterval( player, btn1, bnt2 ) {
        checkInt = setInterval(function() {
          // console.log("startInterval")
          // console.log(player.getCurrentTime())
            if (player.getCurrentTime() >= player.getDuration()-12 && player.getCurrentTime() < player.getDuration()-1 && !clickedA && !clickedB) {
              showBtn( btn1, bnt2 );
              clearInterval(checkInt);
            };
        }, 1000)
      }

      function startInterval2( player, btn1, bnt2 ) {
        checkInt = setInterval(function() {
          // console.log("startInterval2")
          // console.log(player.getCurrentTime())
            if (player.getCurrentTime() >= player.getDuration()-6 && player.getCurrentTime() < player.getDuration()-1 && !clickedAA && !clickedAB ) {
              showBtn( btn1, bnt2 );
              clearInterval(checkInt);
            };
        }, 1000)
      }

      function startInterval3( player, btn1, bnt2 ) {
        checkInt = setInterval(function() {
          // console.log("startInterval3")
          // console.log(player.getCurrentTime())
            if (player.getCurrentTime() >= player.getDuration()-7 && player.getCurrentTime() < player.getDuration()-1 && !clickedBA && !clickedBB) {
              showBtn( btn1, bnt2 );
              clearInterval(checkInt);
            };
        }, 1000)
      }      

      function resize(event){
        let landscape = $(window).height() <= $(window).width();
        let videoWidth;
        let videoHeight;
        //   if(landscape){
        //     videoHeight = $(window).height();
        //     videoWidth = $(window).width() *(16/9);
        //   }
        //   else{
        //     videoWidth = $(window).width();
        //     videoHeight = videoWidth*(9/16);
        // }
        videoWidth = $(window).width();
        videoHeight = $(window).width()*(9/16);
        event.target.setSize( videoWidth , videoHeight );
      }

// onPlayerStateChange ============================================
      function onPlayerStateChange_m(event) {
        if (event.data == YT.PlayerState.PLAYING ) {
          startInterval( event.target, btnA, btnB );
          resize( event );
        }

        if (event.data == YT.PlayerState.ENDED) {
          hideBtn( btnA, btnB );
          hideContainer( window.MAIN );
          showContainer( window.containerA );
          a_video.playVideo();
        }
      }

      function onPlayerStateChange_a(event) {
        if (event.data == YT.PlayerState.PLAYING ) {
          startInterval2( event.target, btnAA, btnAB  );
          resize( event );
        }

        if (event.data == YT.PlayerState.ENDED) {
          hideBtn( btnAA, btnAB );
          hideContainer( window.containerA );
          showContainer( window.containerAA );
          aa_video.playVideo();
        }
      }

      function onPlayerStateChange_b(event) {
        if (event.data == YT.PlayerState.PLAYING ) {
          startInterval3( event.target, btnBA, btnBB );
          resize( event  );
        }

        if (event.data == YT.PlayerState.ENDED) {
          hideBtn( btnBA, btnBB );
          hideContainer( window.containerB );
          showContainer( window.containerBA );
          ba_video.playVideo();
        }
      }

      function onPlayerStateChange_other (event) {
        if (event.data == YT.PlayerState.PLAYING ) {
          resize( event );
        }
      }

// function============================================
      function showBtn(btn1, btn2) {
				btn1.style.display = "block";
				btn2.style.display = "block";

      }
      function hideBtn(btn1, btn2) {
        btn1.style.display = "none";
        btn2.style.display = "none";
      }
      function showContainer(container) {
        container.style.display = "block"
      }
      function hideContainer(container) {
        container.style.display = "none";
      }

// click============================================
      function clickA(){
          hideBtn( btnA, btnB );
          main_video.destroy();
          main_video.setInterval   
          hideContainer( window.MAIN );
          showContainer( window.containerA );
          a_video.playVideo();
          clickedA = true;
          clickedB = true;
      }
      function clickB(){
          hideBtn( btnA, btnB );
          main_video.destroy();  
          hideContainer( window.MAIN );
          showContainer( window.containerB );
          b_video.playVideo();
          clickedA = true;
          clickedB = true;
      }
      function clickAA(){
          hideBtn( btnAA, btnAB );
          a_video.destroy();  
          hideContainer( window.containerA );
          showContainer( window.containerAA );
          aa_video.playVideo();
          clickedAA = true;
          clickedAB = true;
      }
      function clickAB(){
          hideBtn( btnAA, btnAB );
          a_video.destroy();  
          hideContainer( window.containerA );
          showContainer( window.containerAB );
          ab_video.playVideo();
          clickedAA = true;
          clickedAB = true;
      }
      function clickBA(){
          hideBtn( btnBA, btnBB );
          b_video.destroy();    
          hideContainer( window.containerB );
          showContainer( window.containerBA );
          ba_video.playVideo();
          clickedBA = true;
          clickedBB = true;
      }
      function clickBB(){
          hideBtn( btnBA, btnBB );
          b_video.destroy();
          hideContainer( window.containerB );
          showContainer( window.containerBB );
          bb_video.playVideo(); 
          clickedBA = true;
          clickedBB = true;  
      }

</script>

</body>
</html>
